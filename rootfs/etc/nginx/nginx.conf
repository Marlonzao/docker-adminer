worker_processes  1;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen 80;
        root /var/www/html;

        index index.php index.html index.htm index.nginx-debian.html;

        client_max_body_size 0;

        location ~ [^/]\.php(/|$) {
            fastcgi_split_path_info ^(.+?\.php)(/.*)$;
            if (!-f $document_root$fastcgi_script_name) {
                return 404;
            }

            fastcgi_param HTTP_PROXY "";

            fastcgi_pass 127.0.0.1:9000;
            fastcgi_index index.php;

            include fastcgi_params;

            fastcgi_param  SCRIPT_FILENAME   $document_root$fastcgi_script_name;
        }
    }
    # server {
    #     listen 80;
    #     root /var/www/html;

    #     client_max_body_size 0;

    #     location / {
    #         try_files $uri $uri/index.php =404;
    #     }

    #     location ~ \.php$ {
    #         fastcgi_split_path_info ^(.+\.php)(/.+)$;
    #         fastcgi_pass 127.0.0.1:9000;
    #         fastcgi_index index.php;
    #         include fastcgi_params;
    #         fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
    #         fastcgi_param HTTPS off;
    #         fastcgi_read_timeout 300;
    #     }
    # }
}
